<div class="task-list">
  <div class="header">
    <div
      class="col col--first col--header">
      Name
    </div>

    <div class="col col--header">Start Date</div>
    <div class="col col--header">Due Date</div>
    <div class="col col--header">Status</div>
    <div class="col col--actions"></div>
  </div>

  <div class="body">
    @for (task of tasksForView(); track task.id) {
      <div class="row">
        <div
          class="col col--first">
            <a
              class="task-link"
              [routerLink]="['/task', task.id]"
              cuTooltip
              [cuTooltipTemplate]="tooltipTemplate">
              {{ task.name }}
            </a>

            <ng-template #tooltipTemplate>
              <div class="task-name-tooltip">{{ task.name }}</div>
            </ng-template>
        </div>

        <div class="col col--editable">{{ task.startDate }}</div>
        <div class="col col--editable">{{ task.dueDate }}</div>
        <div class="col col--editable">{{ task.status }}</div>
        <div class="col col--actions">
          <button cuButton>...</button>
        </div>
      </div>
    }

    <div class="row row--last-row">
      <div class="col col--first">
        <button cuButtonIcon (click)="openNewTaskModal(newTaskModal)">
          <fa-icon [icon]="faPlus"></fa-icon>
          <span>
            New Task
          </span>
        </button>
      </div>

      <div class="col"></div>
      <div class="col"></div>
      <div class="col"></div>
    </div>
  </div>
</div>

<ng-template #newTaskModal>
  <cu-modal>
    <div cuModalBody>
      <cu-new-task
       [view]="view()"
       (createTask)="onCreateTask($event)">
      </cu-new-task>
    </div>
  </cu-modal>
</ng-template>
